<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Delight Services - Client Portal</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&amp;family=Rozha+One&amp;family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ecb613",
                        "background-dark": "#020617", // Slate-950
                        "surface-dark": "#0f172a", // Slate-900
                        "surface-light": "#1e293b", // Slate-800
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"],
                        "serif": ["Rozha One", "serif"],
                    },
                    borderRadius: { "DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "2xl": "2rem", "full": "9999px" },
                    animation: {
                        'float': 'float 15s ease-in-out infinite',
                        'enter': 'enter 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0) scale(1.02)' },
                            '50%': { transform: 'translateY(-15px) scale(1.05)' },
                        },
                        enter: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                },
            },
        }
    </script>
    <!-- Supabase & Auth Logic -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="auth.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617;
            color: white;
        }

        .editorial-text {
            font-family: 'Rozha One', serif;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-panel-hover:hover {
            background: rgba(15, 23, 42, 0.8);
            border-color: rgba(236, 182, 19, 0.3);
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #020617;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
    </style>
</head>

<body class="overflow-hidden bg-[#020617]">
    <div class="fixed inset-0 z-0 pointer-events-none overflow-hidden">
        <div class="absolute inset-0 bg-[#020617]/90 z-10"></div>
        <div class="absolute top-0 right-0 w-full h-full opacity-30 animate-float mix-blend-screen"
            style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBLdcHENyBgmiI18W-Q6pU7U9rLFgF8U1OStd3iPYwhTVpNT6GrgdrbuXCK-JrACVZ4B4rYr3wck3bpVh2s7t1sRXt5WmPnsF58ql8nH-wANUiemCUfj4UoIDd2m08DZKRpbDmtXEYYe6KqLF2HNvxKUf7P1sxZL7EUhUTEx3kxF1P32UN3u9756BEr_YjZh8zIKl17JYxgtcZpa0Ic0R-9RJGSlluGmhzhi0XPrBSYwHHYWDpp7ZcmcNgB7cc5j7G6lxtOdAYCPLw'); background-size: cover; background-position: center;">
        </div>
        <div class="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-primary/10 rounded-full blur-[120px]">
        </div>
    </div>
    <div class="relative z-10 flex h-screen w-full">
        <aside
            class="hidden lg:flex w-72 flex-col justify-between border-r border-white/5 bg-[#020617]/80 backdrop-blur-xl px-6 py-8">
            <div>
                <div class="flex items-center gap-3 mb-12 cursor-pointer" onclick="window.location.href='home.html'">
                    <!-- Replaced Diamond with Logo -->
                    <img src="delight.png" alt="Delight Services Logo" class="w-10 h-10 object-contain">
                    <h2 class="text-white text-lg font-bold tracking-wide">Delight Services</h2>
                </div>
                <nav class="space-y-2">
                    <a class="flex items-center gap-4 rounded-xl bg-primary/10 px-4 py-3 text-sm font-medium text-primary shadow-[0_0_10px_rgba(236,182,19,0.1)] border border-primary/20"
                        href="portal.html">
                        <span class="material-symbols-outlined">dashboard</span>
                        Dashboard
                    </a>
                    <a class="group flex items-center gap-4 rounded-xl px-4 py-3 text-sm font-medium text-slate-400 transition-all hover:bg-white/5 hover:text-white"
                        href="index1.html">
                        <span class="material-symbols-outlined transition-colors group-hover:text-primary">shield</span>
                        Insurance
                    </a>
                    <a class="group flex items-center gap-4 rounded-xl px-4 py-3 text-sm font-medium text-slate-400 transition-all hover:bg-white/5 hover:text-white"
                        href="products.html">
                        <span
                            class="material-symbols-outlined transition-colors group-hover:text-primary">storefront</span>
                        Collection
                    </a>
                    <a class="group flex items-center gap-4 rounded-xl px-4 py-3 text-sm font-medium text-slate-400 transition-all hover:bg-white/5 hover:text-white"
                        href="index1.html">
                        <span
                            class="material-symbols-outlined transition-colors group-hover:text-primary">trending_up</span>
                        Investments
                    </a>
                    <a class="group flex items-center gap-4 rounded-xl px-4 py-3 text-sm font-medium text-slate-400 transition-all hover:bg-white/5 hover:text-white"
                        href="contact.html">
                        <span
                            class="material-symbols-outlined transition-colors group-hover:text-primary">support_agent</span>
                        Concierge
                    </a>
                </nav>
            </div>
            <div class="rounded-2xl glass-panel p-4 flex items-center gap-3">
                <div id="user-initial"
                    class="h-10 w-10 rounded-full bg-slate-700 flex items-center justify-center text-slate-300 font-bold uppercase">
                    <!-- Initial populated by auth.js -->
                </div>
                <div>
                    <p id="user-name-display" class="text-sm font-medium text-white">Loading...</p>
                    <p class="text-xs text-slate-500">Premium Member</p>
                </div>
                <button id="logout-btn" class="ml-auto text-slate-400 hover:text-white" title="Sign Out">
                    <span class="material-symbols-outlined">logout</span>
                </button>
            </div>
        </aside>
        <main class="flex-1 overflow-y-auto p-6 lg:p-10 scroll-smooth">
            <header class="lg:hidden flex items-center justify-between mb-8">
                <div class="flex items-center gap-2">
                    <img src="delight.png" alt="Delight Services Logo" class="w-8 h-8 object-contain">
                    <span class="font-bold text-lg">Delight Services</span>
                </div>
                <button class="text-white"><span class="material-symbols-outlined">menu</span></button>
            </header>
            <div class="flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-10 animate-enter"
                style="animation-delay: 0.1s;">
                <div>
                    <h1 class="editorial-text text-4xl lg:text-5xl text-white mb-2">Welcome back, <span
                            id="welcome-name">User</span></h1>
                    <p class="text-slate-400 font-light">Your ecosystem status is healthy. No immediate actions
                        required.</p>
                </div>
                <div class="flex gap-3">
                    <button
                        class="flex items-center gap-2 rounded-full border border-slate-700 bg-surface-dark px-4 py-2 text-sm text-slate-300 hover:border-primary/50 hover:text-white transition-colors">
                        <span class="material-symbols-outlined text-[18px]">notifications</span>
                        <span class="bg-primary h-2 w-2 rounded-full absolute ml-2 mb-2"></span>
                        Alerts
                    </button>
                    <button onclick="window.location.href='contact.html'"
                        class="flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-bold text-[#221e11] hover:bg-[#ffc826] transition-colors shadow-lg shadow-primary/20">
                        <span class="material-symbols-outlined text-[18px]">add</span>
                        New Request
                    </button>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6 pb-12">
                <div class="lg:col-span-12">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-sm font-medium uppercase tracking-wider text-slate-500">Active Coverage</h3>
                        <a class="text-xs text-primary hover:underline" href="index1.html">View All Policies</a>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="glass-panel glass-panel-hover rounded-2xl p-6 relative group transition-all duration-300 animate-enter"
                            style="animation-delay: 0.2s;">
                            <div class="flex justify-between items-start mb-4">
                                <div
                                    class="rounded-full bg-emerald-500/10 p-3 text-emerald-400 group-hover:bg-emerald-500/20 transition-colors">
                                    <span class="material-symbols-outlined">cardiology</span>
                                </div>
                                <span
                                    class="flex items-center gap-1 rounded-full bg-emerald-500/10 px-2 py-1 text-[10px] font-bold uppercase tracking-wide text-emerald-400 border border-emerald-500/20">
                                    <span class="h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse"></span>
                                    Active
                                </span>
                            </div>
                            <h4 class="text-xl font-semibold text-white mb-1">Health Elite+</h4>
                            <p class="text-xs text-slate-400 mb-6">Next Renewal: Oct 24, 2026</p>
                            <div class="flex items-center justify-between mt-auto">
                                <span class="text-sm text-slate-300">ID: <span
                                        class="font-mono text-slate-500">882-192-X</span></span>
                                <button
                                    class="text-xs font-bold text-white hover:text-primary transition-colors flex items-center gap-1">
                                    Manage <span class="material-symbols-outlined text-[14px]">arrow_forward</span>
                                </button>
                            </div>
                        </div>
                        <div class="glass-panel glass-panel-hover rounded-2xl p-6 relative group transition-all duration-300 animate-enter"
                            style="animation-delay: 0.3s;">
                            <div class="flex justify-between items-start mb-4">
                                <div
                                    class="rounded-full bg-blue-500/10 p-3 text-blue-400 group-hover:bg-blue-500/20 transition-colors">
                                    <span class="material-symbols-outlined">directions_car</span>
                                </div>
                                <span
                                    class="flex items-center gap-1 rounded-full bg-amber-500/10 px-2 py-1 text-[10px] font-bold uppercase tracking-wide text-amber-400 border border-amber-500/20">
                                    <span class="h-1.5 w-1.5 rounded-full bg-amber-400"></span>
                                    Due Soon
                                </span>
                            </div>
                            <h4 class="text-xl font-semibold text-white mb-1">Porsche 911 GT3</h4>
                            <p class="text-xs text-slate-400 mb-6">Expires: <span class="text-amber-400">3 Days</span>
                            </p>
                            <div class="flex items-center justify-between mt-auto">
                                <button
                                    class="w-full py-2 rounded-lg bg-primary/90 hover:bg-primary text-black text-xs font-bold uppercase tracking-wide transition-all shadow-lg shadow-primary/10">
                                    Renew Now
                                </button>
                            </div>
                        </div>
                        <div class="glass-panel glass-panel-hover rounded-2xl p-6 relative group transition-all duration-300 animate-enter"
                            style="animation-delay: 0.4s;">
                            <div class="flex justify-between items-start mb-4">
                                <div
                                    class="rounded-full bg-purple-500/10 p-3 text-purple-400 group-hover:bg-purple-500/20 transition-colors">
                                    <span class="material-symbols-outlined">family_restroom</span>
                                </div>
                                <span
                                    class="flex items-center gap-1 rounded-full bg-emerald-500/10 px-2 py-1 text-[10px] font-bold uppercase tracking-wide text-emerald-400 border border-emerald-500/20">
                                    <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span>
                                    Active
                                </span>
                            </div>
                            <h4 class="text-xl font-semibold text-white mb-1">Legacy Trust</h4>
                            <p class="text-xs text-slate-400 mb-6">Beneficiary: S. Doe</p>
                            <div class="flex items-center justify-between mt-auto">
                                <span class="text-sm text-slate-300">Valuation: <span
                                        class="font-mono text-slate-500">$2.4M</span></span>
                                <button
                                    class="text-xs font-bold text-white hover:text-primary transition-colors flex items-center gap-1">
                                    Details <span class="material-symbols-outlined text-[14px]">arrow_forward</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-8 animate-enter" style="animation-delay: 0.5s;">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-sm font-medium uppercase tracking-wider text-slate-500">Personal Collection</h3>
                        <div class="flex gap-2">
                            <button
                                class="h-6 w-6 rounded-full border border-slate-700 flex items-center justify-center text-slate-400 hover:text-white"><span
                                    class="material-symbols-outlined text-xs">arrow_back</span></button>
                            <button
                                class="h-6 w-6 rounded-full border border-slate-700 flex items-center justify-center text-slate-400 hover:text-white"><span
                                    class="material-symbols-outlined text-xs">arrow_forward</span></button>
                        </div>
                    </div>
                    <div class="relative w-full h-[320px] rounded-2xl overflow-hidden group">
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent z-10">
                        </div>
                        <img alt="Luxury Perfume Collection"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                            src="https://lh3.googleusercontent.com/aida-public/AB6AXuDgrCgijogVodnwKdnJdmZAg31uanKArzP491Rxn15zEjdswlCe_-7rLKksJrIb3rKh8Iqprzh2z1Dmjy6ReEIP1y6QOMGYvztRzNFDGl-DwNf3A9EPFB35aOYbLcailO_cI76l-ypm3Wep4UmSO1DXoijz-JIM_upI_gUQyKmknl63WDZ1urRe0-PdQAN7woDxN9fZGVUDaos1ru7DmHkv39XZBRyFwvfN-08Bo9izfmrZubptld_7wpicTNkRHD1lo-BT1shMHLY" />
                        <div class="absolute bottom-0 left-0 p-8 z-20 w-full flex items-end justify-between">
                            <div>
                                <span
                                    class="inline-block px-2 py-1 mb-2 text-[10px] font-bold uppercase tracking-wider text-black bg-primary rounded-sm">Shipped</span>
                                <h3 class="editorial-text text-3xl text-white mb-1">Oud &amp; Bergamot</h3>
                                <p class="text-slate-300 text-sm max-w-md">Your recent selection from the Sensory Vault.
                                    Expected delivery by Friday evening.</p>
                            </div>
                            <button
                                class="hidden md:flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-lg text-sm transition-colors border border-white/10">
                                Track Order <span class="material-symbols-outlined text-sm">local_shipping</span>
                            </button>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div onclick="window.location.href='products.html'"
                            class="flex items-center gap-4 rounded-xl glass-panel p-3 cursor-pointer hover:bg-white/5 transition-colors">
                            <img class="h-12 w-12 rounded-lg object-cover"
                                src="https://lh3.googleusercontent.com/aida-public/AB6AXuB5qGIozxb5U5I2qtOHD5nmskWX0XF6ZL4EhVeYGGmp2_iPoK4xHwDFYNXF-ByPXoRIz1gghSBnK9wpEmHAcO1edX9BFwSixXoaN9M9oW9tcv28WmKExahdO2OZlKL1jQqMDMx8X45X9lN8a-E_sVIVh1NNNX_NPmvlkYIaIG7a7kSHikjmZ11AEXibd1FqWRK-9k6NzUNgRvwmNnjCIUt9exWrWAEvqesiWMVwo8ep7_1yeIBlsYrCRcyaFswyFsYQw1cwic6ZFDo" />
                            <div>
                                <h5 class="text-sm font-bold text-white">Sandalwood Incense</h5>
                                <p class="text-xs text-slate-400">Re-order available</p>
                            </div>
                        </div>
                        <div onclick="window.location.href='products.html'"
                            class="flex items-center gap-4 rounded-xl glass-panel p-3 cursor-pointer hover:bg-white/5 transition-colors">
                            <div
                                class="h-12 w-12 rounded-lg bg-slate-800 flex items-center justify-center text-slate-500 border border-slate-700">
                                <span class="material-symbols-outlined">add</span>
                            </div>
                            <div>
                                <h5 class="text-sm font-bold text-white">Discover New</h5>
                                <p class="text-xs text-slate-400">Browse Catalog</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-4 flex flex-col gap-6 animate-enter" style="animation-delay: 0.6s;">
                    <div class="glass-panel rounded-2xl p-6 flex-1 flex flex-col">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-sm font-medium uppercase tracking-wider text-slate-500">Investment Growth
                            </h3>
                            <span
                                class="text-emerald-400 text-xs font-bold flex items-center gap-1 bg-emerald-500/10 px-2 py-1 rounded">
                                +12.4% <span class="material-symbols-outlined text-[14px]">trending_up</span>
                            </span>
                        </div>
                        <div class="flex-1 flex items-end justify-between gap-2 h-32 px-2">
                            <div
                                class="w-full bg-slate-800 rounded-t-sm h-[40%] hover:bg-primary/50 transition-colors duration-500">
                            </div>
                            <div
                                class="w-full bg-slate-800 rounded-t-sm h-[60%] hover:bg-primary/50 transition-colors duration-500">
                            </div>
                            <div
                                class="w-full bg-slate-800 rounded-t-sm h-[45%] hover:bg-primary/50 transition-colors duration-500">
                            </div>
                            <div
                                class="w-full bg-slate-800 rounded-t-sm h-[75%] hover:bg-primary/50 transition-colors duration-500">
                            </div>
                            <div
                                class="w-full bg-slate-800 rounded-t-sm h-[55%] hover:bg-primary/50 transition-colors duration-500">
                            </div>
                            <div class="w-full bg-primary rounded-t-sm h-[85%] shadow-[0_0_15px_rgba(236,182,19,0.3)]">
                            </div>
                        </div>
                        <div class="flex justify-between mt-3 text-[10px] text-slate-500 uppercase font-medium">
                            <span>May</span>
                            <span>Jun</span>
                            <span>Jul</span>
                            <span>Aug</span>
                            <span>Sep</span>
                            <span class="text-primary">Oct</span>
                        </div>
                    </div>
                    <div class="glass-panel rounded-2xl p-6">
                        <h3 class="text-sm font-medium uppercase tracking-wider text-slate-500 mb-4">Quick Actions</h3>
                        <div class="space-y-3">
                            <button onclick="window.location.href='contact.html'"
                                class="w-full flex items-center justify-between p-3 rounded-xl bg-surface-dark border border-slate-700 hover:border-primary/50 group transition-all">
                                <div class="flex items-center gap-3">
                                    <span
                                        class="material-symbols-outlined text-slate-400 group-hover:text-primary transition-colors">assignment_turned_in</span>
                                    <span class="text-sm font-medium text-white">File a Claim</span>
                                </div>
                                <span
                                    class="material-symbols-outlined text-slate-600 text-sm group-hover:text-white transition-colors">chevron_right</span>
                            </button>
                            <button
                                class="w-full flex items-center justify-between p-3 rounded-xl bg-surface-dark border border-slate-700 hover:border-primary/50 group transition-all">
                                <div class="flex items-center gap-3">
                                    <span
                                        class="material-symbols-outlined text-slate-400 group-hover:text-primary transition-colors">local_shipping</span>
                                    <span class="text-sm font-medium text-white">Track Order</span>
                                </div>
                                <span
                                    class="material-symbols-outlined text-slate-600 text-sm group-hover:text-white transition-colors">chevron_right</span>
                            </button>
                            <button
                                class="w-full flex items-center justify-between p-3 rounded-xl bg-surface-dark border border-slate-700 hover:border-primary/50 group transition-all">
                                <div class="flex items-center gap-3">
                                    <span
                                        class="material-symbols-outlined text-slate-400 group-hover:text-primary transition-colors">history_edu</span>
                                    <span class="text-sm font-medium text-white">Policy History</span>
                                </div>
                                <span
                                    class="material-symbols-outlined text-slate-600 text-sm group-hover:text-white transition-colors">chevron_right</span>
                            </button>
                            <div class="glass-panel rounded-2xl p-6 relative overflow-hidden">
                                <h3 class="text-sm font-medium uppercase tracking-wider text-slate-500 mb-4">Recent
                                    Orders</h3>
                                <div id="orders-list" class="space-y-4 max-h-[300px] overflow-y-auto pr-2">
                                    <div class="text-center py-6 text-slate-500 text-sm">Loading orders...</div>
                                </div>
                            </div>
                        </div>
                    </div>
        </main>
    </div>

    <!-- Success Toast -->
    <div id="success-toast"
        class="fixed bottom-8 right-8 bg-emerald-600 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 transform translate-y-20 opacity-0 transition-all duration-500 z-50">
        <div class="bg-white/20 p-2 rounded-full">
            <span class="material-symbols-outlined">check</span>
        </div>
        <div>
            <h4 class="font-bold">Order Placed!</h4>
            <p class="text-xs text-emerald-100">Your order has been confirmed.</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const SUPABASE_URL = 'https://rkhzwlwhprhlecobvxcw.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJraHp3bHdocHJobGVjb2J2eGN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1NzI5ODIsImV4cCI6MjA4NDE0ODk4Mn0.jDj0C5lc3h7-PSgPAv-GKFY_yUeULcfWrW3nfqTx5L8';

        // Singleton Client
        if (!window.supabaseClient) {
            window.supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        }

        async function loadDashboard() {
            const { data: { session } } = await window.supabaseClient.auth.getSession();
            if (!session) return window.location.href = 'login.html';

            // Update User Name
            const { data: { user } } = await window.supabaseClient.auth.getUser();
            document.getElementById('welcome-name').textContent = user.user_metadata.full_name || user.email.split('@')[0];
            document.getElementById('user-name-display').textContent = user.user_metadata.full_name || 'Member';
            document.getElementById('user-initial').textContent = (user.email[0]).toUpperCase();

            // Check for Success Toast
            const params = new URLSearchParams(window.location.search);
            if (params.get('order_success')) {
                const toast = document.getElementById('success-toast');
                toast.classList.remove('translate-y-20', 'opacity-0');
                setTimeout(() => {
                    toast.classList.add('translate-y-20', 'opacity-0');
                    // Clean URL
                    window.history.replaceState({}, document.title, window.location.pathname);
                }, 4000);
            }

            // Fetch Data
            try {
                const res = await fetch('/api/user/dashboard', {
                    headers: { Authorization: `Bearer ${session.access_token}` }
                });
                const data = await res.json();

                // Render Orders
                const ordersList = document.getElementById('orders-list');
                if (data.orders && data.orders.length > 0) {
                    ordersList.innerHTML = data.orders.map(order => `
                        <div class="flex items-center justify-between p-3 rounded-xl bg-surface-dark border border-slate-700/50 hover:border-slate-600 transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="bg-primary/10 p-2 rounded-lg text-primary">
                                    <span class="material-symbols-outlined text-sm">shopping_bag</span>
                                </div>
                                <div>
                                    <h5 class="text-sm font-semibold text-white">${order.product_name || 'Product'}</h5>
                                    <p class="text-[10px] text-slate-400 capitalize">
                                        ${order.payment_method} • Arriving: <span class="text-emerald-400">${order.delivery_date ? new Date(order.delivery_date).toLocaleDateString() : 'Pending'}</span>
                                    </p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-emerald-400">₹${order.product_price}</span>
                        </div>
                    `).join('');
                } else {
                    ordersList.innerHTML = `
                        <div class="py-8 text-center flex flex-col items-center gap-2">
                            <span class="material-symbols-outlined text-slate-600 text-3xl">shopping_cart_off</span>
                            <p class="text-sm text-slate-500">No recent orders found</p>
                            <a href="products.html" class="text-xs text-primary hover:underline mt-1">Start Shopping</a>
                        </div>
                    `;
                }

            } catch (e) {
                console.error('Dashboard Error:', e);
            }
        }

        // Logout
        document.getElementById('logout-btn').addEventListener('click', async () => {
            await window.supabaseClient.auth.signOut();
            window.location.href = 'login.html';
        });

        loadDashboard();
    </script>
</body>

</html>